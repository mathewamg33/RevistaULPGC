<ion-header>
  <ion-navbar color="ulpgc">
    <ion-row>
      <ion-col col-1 offset-1>
        <img class="logoUlpgc" src="https://firebasestorage.googleapis.com/v0/b/revistauplgc.appspot.com/o/logo.png?alt=media&token=7692f24c-ecf7-4af7-afca-fb87b77c8f2e" alt="logo-ulpgc">
      </ion-col>
      <ion-col col-8>
        <ion-title text-center class="nav-title">Noticias</ion-title>
      </ion-col>
      <ion-col col-2>
        <button ion-button class="log-out" clear icon-left (click)="logout()">
          <ion-icon name="log-out"></ion-icon>
          Cerrar Sesión
        </button>
      </ion-col>
    </ion-row>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-grid>
    <ion-row>
      <ion-col col-lg-3>
        <ion-searchbar (ionInput)="filterByTitle($event)" placeholder="Buscar por Título"></ion-searchbar>
      </ion-col>
      <!--<ion-col col-lg-3>
       <ion-item>
          <ion-label>Sección</ion-label>
          <ion-select [(ngModel)]="searchTerm" [formControl]="searchControl">
            <ion-option>Todos</ion-option>
            <ion-option>Cultura</ion-option>
            <ion-option>Deportes</ion-option>
            <ion-option>Emprendimiento</ion-option>
            <ion-option>Entrevistas</ion-option>
            <ion-option>Estudios</ion-option>
            <ion-option>Internacionalización</ion-option>
            <ion-option>Investigación</ion-option>
            <ion-option>Sociedad</ion-option>
          </ion-select>
        </ion-item>
      </ion-col>-->
      <ion-col col-lg-2 offset-7>
       <button ion-button color="ulpgc" (click)="goCreateNews()">Añadir Noticia</button>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-grid class="table-news">
    <ion-row color="ulpgc" class="header">
      <ion-col col-2>
        <ion-item no-lines>
          <ion-title text-center>Tipo</ion-title>
          <button id="type-asc" ion-button icon-only clear item-right (click)="sortTypePublished()">
            <ion-icon name="arrow-dropup"></ion-icon>
          </button>
          <button id="type-des" ion-button icon-only clear item-right (click)="sortTypeDraft()">
            <ion-icon name="arrow-dropdown"></ion-icon>
          </button>
        </ion-item>
      </ion-col>
      <ion-col col-2>
        <ion-item no-lines>
          <ion-title text-center>Título</ion-title>
          <button id="title-asc" ion-button icon-only clear item-right (click)="sortTitleAsc()">
            <ion-icon name="arrow-dropup"></ion-icon>
          </button>
          <button id="title-des" ion-button icon-only clear item-right (click)="sortTitleDes()">
            <ion-icon name="arrow-dropdown"></ion-icon>
          </button>
        </ion-item>
      </ion-col>
      <ion-col col-2>

        <ion-item no-lines>
          <ion-title>Sección</ion-title>
          <button id="section-asc" ion-button icon-only clear item-right (click)="sortSectionAsc()">
            <ion-icon name="arrow-dropup"></ion-icon>
          </button>
          <button id="section-des" ion-button icon-only clear item-right (click)="sortSectionDes()">
            <ion-icon name="arrow-dropdown"></ion-icon>
          </button>
        </ion-item>
      
      </ion-col>
      <ion-col col-2>

        <ion-item no-lines>
          <ion-title>Fecha</ion-title>
          <button id="date-asc" ion-button icon-only clear item-right (click)="sortDateAsc()">
            <ion-icon name="arrow-dropup"></ion-icon>
          </button>
          <button id="date-des" ion-button icon-only clear item-right (click)="sortDateDes()">
            <ion-icon name="arrow-dropdown"></ion-icon>
          </button>
        </ion-item>
      
      </ion-col>
      <ion-col col-2>

        <ion-item no-lines>
          <ion-title>Autor</ion-title>
          <button id="author-asc" ion-button icon-only clear item-right (click)="sortAuthorAsc()">
            <ion-icon name="arrow-dropup"></ion-icon>
          </button>
          <button id="author-des" ion-button icon-only clear item-right (click)="sortAuthorDes()">
            <ion-icon name="arrow-dropdown"></ion-icon>
          </button>
        </ion-item>
      
      </ion-col>
      <ion-col col-2>
        <ion-item no-lines>
          <ion-title>Acción</ion-title>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row class="news" *ngFor="let n of news">
      <ion-col col-2 *ngIf="n.published; else elseBlock" text-center>Publicada</ion-col>
      <ng-template #elseBlock>
        <ion-col col-2 text-center>Borrador</ion-col>
      </ng-template>
      <ion-col col-2>{{n.title}}</ion-col>
      <ion-col col-2>{{n.section}}</ion-col>
      <ion-col col-2>{{ n.time | date:'HH:mm' }} - {{ n.time | date:'dd/MM/yy' }} </ion-col>
      <ion-col col-2>{{n.author}}</ion-col>
      <ion-col col-2>
        <button ion-button (click)="goEditNews(n)" small>Editar</button>
        <button ion-button color="danger" (click)="deleteNews(n)" small>Eliminar</button>
      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>
